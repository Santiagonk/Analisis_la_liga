pag <- 'https://www.laliga.com/clubes/fc-barcelona'
pag <- str_replace(pag, '/fc-barcelona', paste0('/',texto))
pag[3] <- "https://www.laliga.com/clubes/c-a-osasuna"
pag[5] <- "https://www.laliga.com/clubes/d-alaves"
pag[6] <- "https://www.laliga.com/clubes/elche-c-f"
pag[15] <- "https://www.laliga.com/clubes/r-valladolid-cf"
pag <- paste0(pag,'/estadisticas')
pag
url <- 'https://www.laliga.com/clubes/r-valladolid-cf/estadisticas'
lidergoles <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(1) > div.styled__FastStatsCol-sc-1rbio1c-4.ldHwr > div.styled__FastStatsColItem-sc-1rbio1c-6.iJcjeR > div > p.styled__TextRegularStyled-sc-12cic8i-0.iATXqP.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
pagina_web <- read_html(url)
nombre_nodo <- html_node(pagina_web, lidergoles)
nombre_texto <- html_text(nombre_nodo)
nombre_texto
prueba_tab <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(3) > div > div.styled__ContainerTable-xu50pr-0.gXIBYQ > table > thead > tr > th:nth-child(4) > p'
prueba_nodo <- html_node(pagina_web, prueba_tab)
prueba_nodo
url <- 'https://www.laliga.com/clubes/r-valladolid-cf/plantilla'
sel_nom_ent <- '<p class="styled__TextRegularStyled-sc-12cic8i-0 kGotoR">Sergio Gonzalez</p>'
pagina_web <- read_html(url)
prueba_nodo <- html_node(pagina_web, sel_nom_ent)
pagina_web <- read_html(url)
prueba_nodo <- html_node(pagina_web, sel_nom_ent)
sel_nom_ent <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div > div > div:nth-child(1) > div > div.styled__GridStyled-sc-120de73-0.bCrzfa > div.styled__CellStyled-cf9713-0.cROTiv > div > div.styled__GridStyled-sc-120de73-0.dHHrJS > div:nth-child(1) > div > div > div.styled__NameContainer-sc-1bk5dxm-3.hlOCQl > div > p.styled__TextRegularStyled-sc-12cic8i-0.kGotoR'
pagina_web <- read_html(url)
prueba_nodo <- html_node(pagina_web, sel_nom_ent)
nombre_ent <- html_text(prueba_nodo)
nombre_ent
sel_partidos_jugados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(1) > div.styled__FastStatsCol-sc-1rbio1c-4.ldHwr > div.styled__FastStatsColItem-sc-1rbio1c-6.iJcjeR > div > p.styled__TextRegularStyled-sc-12cic8i-0.iATXqP.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
url <- 'https://www.laliga.com/clubes/r-valladolid-cf/estadisticas'
pagina_web <- read_html(url)
url <- 'https://www.laliga.com/clubes/villarreal-cf/estadisticas'
sel_partidos_jugados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(1) > div.styled__FastStatsCol-sc-1rbio1c-4.ldHwr > div.styled__FastStatsColItem-sc-1rbio1c-6.iJcjeR > div > p.styled__TextRegularStyled-sc-12cic8i-0.iATXqP.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
pagina_web <- read_html(url)
nombre_nodo <- html_node(pagina_web, sel_partidos_jugados)
nombre_texto <- html_text(nombre_nodo)
nombre_texto
pagina_web <- read_html(url)
partidos_jugados <- html_node(pagina_web, sel_partidos_jugados)
partidos_jugados <- html_text(nombre_nodo)
partidos_jugados
partidos_ganados <- html_node(pagina_web, sel_partidos_ganados)
sel_partidos_ganados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.gVRGtE > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_ganados <- html_node(pagina_web, sel_partidos_ganados)
partidos_jugados <- html_text(partidos_jugados)
partidos_jugados <- html_node(pagina_web, sel_partidos_jugados)
partidos_jugados <- html_text(partidos_jugados)
partidos_jugados
sel_partidos_ganados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.gVRGtE > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_ganados <- html_node(pagina_web, sel_partidos_ganados)
partidos_ganados <- html_text(partidos_ganados)
partidos_ganados
sel_partidos_empatados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.bDEJZT > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_empatados <- html_node(pagina_web, sel_partidos_empatados)
partidos_empatados <- html_node(pagina_web, sel_partidos_empatados)
partidos_empatados <- html_text(sel_partidos_empatados)
partidos_empatados <- html_text(partidos_empatados)
partidos_empatados
sel_goles <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(1) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
goles <- html_node(pagina_web, sel_goles)
goles <- html_text(goles)
goles
sel_nombre <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubHeader-sc-9wem1u-1.hAPQqJ > div.styled__Container-asfu3p-0.gpTxyc > div > div.styled__ClubHeaderCompWrap-wi838o-0.ePEocl > div.styled__ClubInfo-wi838o-1.gPESPv > div.styled__ClubInfoText-wi838o-3.hDrGiX > h1'
nombre_equipo <- html_node(pagina_web, sel_nombre)
nombre_equipo <- html_text(nombre_equipo)
nombre_equipo
url <- 'https://www.laliga.com/clubes/villarreal-cf/estadisticas'
pagina_web <- read_html(url)
sel_nombre <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubHeader-sc-9wem1u-1.hAPQqJ > div.styled__Container-asfu3p-0.gpTxyc > div > div.styled__ClubHeaderCompWrap-wi838o-0.ePEocl > div.styled__ClubInfo-wi838o-1.gPESPv > div.styled__ClubInfoText-wi838o-3.hDrGiX > h1'
nombre_equipo <- html_node(pagina_web, sel_nombre)
nombre_equipo <- html_text(nombre_equipo)
sel_partidos_jugados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(1) > div.styled__FastStatsCol-sc-1rbio1c-4.ldHwr > div.styled__FastStatsColItem-sc-1rbio1c-6.iJcjeR > div > p.styled__TextRegularStyled-sc-12cic8i-0.iATXqP.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_jugados <- html_node(pagina_web, sel_partidos_jugados)
partidos_jugados <- html_text(partidos_jugados)
sel_partidos_ganados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.gVRGtE > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_ganados <- html_node(pagina_web, sel_partidos_ganados)
partidos_ganados <- html_text(partidos_ganados)
partidos_ganados
sel_partidos_empatados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.bDEJZT > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_empatados <- html_node(pagina_web, sel_partidos_empatados)
partidos_empatados <- html_text(partidos_empatados)
sel_goles <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(1) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
goles <- html_node(pagina_web, sel_goles)
goles <- html_text(goles)
sel_asistencias <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(2) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
asistencias <- html_node(pagina_web, sel_asistencias)
asistencias <- html_text(asistencias)
sel_tarjetas <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(3) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
tarjetas <- html_node(pagina_web, sel_tarjetas)
tarjetas <- html_text(pagina_web, sel_tarjetas)
sel_penalties <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(4) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
penalties <- html_node(pagina_web, sel_penalties)
penalties <- html_text(penalties)
nombre_equipo
partidos_jugados
partidos_ganados
partidos_empatados
goles
asistencias
tarjetas
tarjetas <- html_text(tarjetas)
tarjetas <- html_node(pagina_web, sel_tarjetas)
tarjetas <- html_text(tarjetas)
tarjetas
penalties
nombre_equipo
partidos_jugados
partidos_ganados
partidos_empatados
goles
asistencias
tarjetas
penalties
setwd("C:/Users/Santiago/Desktop/Cursos/DataScience Path Platzi/Proyectos/Analisis_Liga_Española")
library(xml2)
library(rvest)
library(selectr)
library(stringr)
library(jsonlite)
library(dplyr)
url <- 'https://www.laliga.com/laliga-santander/clubes'
webpage <- read_html(url)
class(webpage)
selector <- 'a >h2'
nodo <- html_nodes(webpage, selector)
class(nodo)
texto <- html_text(nodo)
texto <- str_to_lower(texto)
texto <- gsub(' ','-',texto)
texto <- gsub('á','a',texto)
texto <- gsub('é','e',texto)
texto
#selector <- 'a'
#nodo <- html_nodes(webpage, selector)
#nodo_link <- html_attr(nodo, 'href')
#nodo_link
pag <- 'https://www.laliga.com/clubes/fc-barcelona'
pag <- str_replace(pag, '/fc-barcelona', paste0('/',texto))
pag[3] <- "https://www.laliga.com/clubes/c-a-osasuna"
pag[5] <- "https://www.laliga.com/clubes/d-alaves"
pag[6] <- "https://www.laliga.com/clubes/elche-c-f"
pag[15] <- "https://www.laliga.com/clubes/r-valladolid-cf"
pag <- paste0(pag,'/estadisticas')
pag
url <- 'https://www.laliga.com/clubes/villarreal-cf/estadisticas'
pagina_web <- read_html(url)
sel_nombre <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubHeader-sc-9wem1u-1.hAPQqJ > div.styled__Container-asfu3p-0.gpTxyc > div > div.styled__ClubHeaderCompWrap-wi838o-0.ePEocl > div.styled__ClubInfo-wi838o-1.gPESPv > div.styled__ClubInfoText-wi838o-3.hDrGiX > h1'
nombre_equipo <- html_node(pagina_web, sel_nombre)
nombre_equipo <- html_text(nombre_equipo)
sel_partidos_jugados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(1) > div.styled__FastStatsCol-sc-1rbio1c-4.ldHwr > div.styled__FastStatsColItem-sc-1rbio1c-6.iJcjeR > div > p.styled__TextRegularStyled-sc-12cic8i-0.iATXqP.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_jugados <- html_node(pagina_web, sel_partidos_jugados)
partidos_jugados <- html_text(partidos_jugados)
sel_partidos_ganados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.gVRGtE > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_ganados <- html_node(pagina_web, sel_partidos_ganados)
partidos_ganados <- html_text(partidos_ganados)
sel_partidos_empatados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.bDEJZT > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_empatados <- html_node(pagina_web, sel_partidos_empatados)
partidos_empatados <- html_text(partidos_empatados)
sel_goles <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(1) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
goles <- html_node(pagina_web, sel_goles)
goles <- html_text(goles)
sel_asistencias <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(2) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
asistencias <- html_node(pagina_web, sel_asistencias)
asistencias <- html_text(asistencias)
sel_tarjetas <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(3) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
tarjetas <- html_node(pagina_web, sel_tarjetas)
tarjetas <- html_text(tarjetas)
sel_penalties <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(4) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
penalties <- html_node(pagina_web, sel_penalties)
penalties <- html_text(penalties)
get_Equipo <- function(url){
pagina_web <- read_html(url)
sel_nombre <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubHeader-sc-9wem1u-1.hAPQqJ > div.styled__Container-asfu3p-0.gpTxyc > div > div.styled__ClubHeaderCompWrap-wi838o-0.ePEocl > div.styled__ClubInfo-wi838o-1.gPESPv > div.styled__ClubInfoText-wi838o-3.hDrGiX > h1'
nombre_equipo <- html_node(pagina_web, sel_nombre)
nombre_equipo <- html_text(nombre_equipo)
sel_partidos_jugados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(1) > div.styled__FastStatsCol-sc-1rbio1c-4.ldHwr > div.styled__FastStatsColItem-sc-1rbio1c-6.iJcjeR > div > p.styled__TextRegularStyled-sc-12cic8i-0.iATXqP.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_jugados <- html_node(pagina_web, sel_partidos_jugados)
partidos_jugados <- html_text(partidos_jugados)
sel_partidos_ganados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.gVRGtE > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_ganados <- html_node(pagina_web, sel_partidos_ganados)
partidos_ganados <- html_text(partidos_ganados)
sel_partidos_empatados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.bDEJZT > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_empatados <- html_node(pagina_web, sel_partidos_empatados)
partidos_empatados <- html_text(partidos_empatados)
sel_goles <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(1) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
goles <- html_node(pagina_web, sel_goles)
goles <- html_text(goles)
sel_asistencias <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(2) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
asistencias <- html_node(pagina_web, sel_asistencias)
asistencias <- html_text(asistencias)
sel_tarjetas <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(3) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
tarjetas <- html_node(pagina_web, sel_tarjetas)
tarjetas <- html_text(tarjetas)
sel_penalties <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(4) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
penalties <- html_node(pagina_web, sel_penalties)
penalties <- html_text(penalties)
equipo <- c(nombre_equipo, partidos_jugados, partidos_ganados, partidos_empatados, goles, asistencias, penalties)
}
pag
resw <- get_Equipo(pag[1])
resw
sel_nombre <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubHeader-sc-9wem1u-1.hAPQqJ > div.styled__Container-asfu3p-0.gpTxyc > div > div.styled__ClubHeaderCompWrap-wi838o-0.ePEocl > div.styled__ClubInfo-wi838o-1.gPESPv > div.styled__ClubInfoText-wi838o-3.hDrGiX > h1'
nombre_equipo <- html_node(pagina_web, sel_nombre)
nombre_equipo <- html_text(nombre_equipo)
nombre_equipo
resw <- get_Equipo(pag[1])
resw
pag[1]
url <- 'https://www.laliga.com/clubes/athletic-club/estadisticas'
url <- 'https://www.laliga.com/clubes/athletic-club/estadisticas'
pagina_web <- read_html(url)
sel_nombre <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubHeader-sc-9wem1u-1.hAPQqJ > div.styled__Container-asfu3p-0.gpTxyc > div > div.styled__ClubHeaderCompWrap-wi838o-0.ePEocl > div.styled__ClubInfo-wi838o-1.gPESPv > div.styled__ClubInfoText-wi838o-3.hDrGiX > h1'
nombre_equipo <- html_node(pagina_web, sel_nombre)
nombre_equipo <- html_text(nombre_equipo)
nombre_equipo
nombre_equipo
nombre_equipo <- html_node(pagina_web, sel_nombre)
nombre_equipo
sel_nombre <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubHeader-sc-9wem1u-1.llxlzp > div.styled__Container-asfu3p-0.gpTxyc > div > div.styled__ClubHeaderCompWrap-wi838o-0.ePEocl > div.styled__ClubInfo-wi838o-1.gPESPv > div.styled__ClubInfoText-wi838o-3.hDrGiX > h1'
nombre_equipo <- html_node(pagina_web, sel_nombre)
nombre_equipo <- html_text(nombre_equipo)
nombre_equipo
get_Equipo <- function(url){
pagina_web <- read_html(url)
sel_nombre <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubHeader-sc-9wem1u-1.llxlzp > div.styled__Container-asfu3p-0.gpTxyc > div > div.styled__ClubHeaderCompWrap-wi838o-0.ePEocl > div.styled__ClubInfo-wi838o-1.gPESPv > div.styled__ClubInfoText-wi838o-3.hDrGiX > h1'
nombre_equipo <- html_node(pagina_web, sel_nombre)
nombre_equipo <- html_text(nombre_equipo)
sel_partidos_jugados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(1) > div.styled__FastStatsCol-sc-1rbio1c-4.ldHwr > div.styled__FastStatsColItem-sc-1rbio1c-6.iJcjeR > div > p.styled__TextRegularStyled-sc-12cic8i-0.iATXqP.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_jugados <- html_node(pagina_web, sel_partidos_jugados)
partidos_jugados <- html_text(partidos_jugados)
sel_partidos_ganados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.gVRGtE > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_ganados <- html_node(pagina_web, sel_partidos_ganados)
partidos_ganados <- html_text(partidos_ganados)
sel_partidos_empatados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.bDEJZT > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_empatados <- html_node(pagina_web, sel_partidos_empatados)
partidos_empatados <- html_text(partidos_empatados)
sel_goles <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(1) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
goles <- html_node(pagina_web, sel_goles)
goles <- html_text(goles)
sel_asistencias <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(2) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
asistencias <- html_node(pagina_web, sel_asistencias)
asistencias <- html_text(asistencias)
sel_tarjetas <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(3) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
tarjetas <- html_node(pagina_web, sel_tarjetas)
tarjetas <- html_text(tarjetas)
sel_penalties <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(4) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
penalties <- html_node(pagina_web, sel_penalties)
penalties <- html_text(penalties)
equipo <- c(nombre_equipo, partidos_jugados, partidos_ganados, partidos_empatados, goles, asistencias, penalties)
}
pag[1]
resw <- get_Equipo(pag[1])
resw
resultado_datos <- sapply(pag, get_Equipo)
View(resultado_datos)
get_Equipo <- function(url){
pagina_web <- read_html(url)
nombre_equipo <- str_replace(url, 'https://www.laliga.com/clubes/', '')
nombre_equipo <- gsub('/estadisticas','',url)
nombre_equipo <- gsub('-',' ',url)
if(nombre_equipo)
sel_partidos_jugados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(1) > div.styled__FastStatsCol-sc-1rbio1c-4.ldHwr > div.styled__FastStatsColItem-sc-1rbio1c-6.iJcjeR > div > p.styled__TextRegularStyled-sc-12cic8i-0.iATXqP.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_jugados <- html_node(pagina_web, sel_partidos_jugados)
partidos_jugados <- html_text(partidos_jugados)
sel_partidos_ganados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.gVRGtE > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_ganados <- html_node(pagina_web, sel_partidos_ganados)
partidos_ganados <- html_text(partidos_ganados)
sel_partidos_empatados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.bDEJZT > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_empatados <- html_node(pagina_web, sel_partidos_empatados)
partidos_empatados <- html_text(partidos_empatados)
sel_goles <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(1) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
goles <- html_node(pagina_web, sel_goles)
goles <- html_text(goles)
sel_asistencias <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(2) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
asistencias <- html_node(pagina_web, sel_asistencias)
asistencias <- html_text(asistencias)
sel_tarjetas <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(3) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
tarjetas <- html_node(pagina_web, sel_tarjetas)
tarjetas <- html_text(tarjetas)
sel_penalties <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(4) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
penalties <- html_node(pagina_web, sel_penalties)
penalties <- html_text(penalties)
equipo <- c(nombre_equipo, partidos_jugados, partidos_ganados, partidos_empatados, goles, asistencias, penalties)
}
pag[1]
resw <- get_Equipo(pag[1])
get_Equipo <- function(url){
pagina_web <- read_html(url)
nombre_equipo <- str_replace(url, 'https://www.laliga.com/clubes/', '')
nombre_equipo <- gsub('/estadisticas','',url)
nombre_equipo <- gsub('-',' ',url)
sel_partidos_jugados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(1) > div.styled__FastStatsCol-sc-1rbio1c-4.ldHwr > div.styled__FastStatsColItem-sc-1rbio1c-6.iJcjeR > div > p.styled__TextRegularStyled-sc-12cic8i-0.iATXqP.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_jugados <- html_node(pagina_web, sel_partidos_jugados)
partidos_jugados <- html_text(partidos_jugados)
sel_partidos_ganados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.gVRGtE > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_ganados <- html_node(pagina_web, sel_partidos_ganados)
partidos_ganados <- html_text(partidos_ganados)
sel_partidos_empatados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.bDEJZT > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_empatados <- html_node(pagina_web, sel_partidos_empatados)
partidos_empatados <- html_text(partidos_empatados)
sel_goles <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(1) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
goles <- html_node(pagina_web, sel_goles)
goles <- html_text(goles)
sel_asistencias <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(2) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
asistencias <- html_node(pagina_web, sel_asistencias)
asistencias <- html_text(asistencias)
sel_tarjetas <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(3) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
tarjetas <- html_node(pagina_web, sel_tarjetas)
tarjetas <- html_text(tarjetas)
sel_penalties <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(4) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
penalties <- html_node(pagina_web, sel_penalties)
penalties <- html_text(penalties)
equipo <- c(nombre_equipo, partidos_jugados, partidos_ganados, partidos_empatados, goles, asistencias, penalties)
}
pag[1]
resw <- get_Equipo(pag[1])
resw
nombre_equipo
nombre_equipo
nombre_equipo
get_Equipo <- function(url){
pagina_web <- read_html(url)
nombre_equipo <- str_replace(url, 'https://www.laliga.com/clubes/', '')
nombre_equipo <- gsub('/estadisticas','',nombre_equipo)
nombre_equipo <- gsub('-',' ',nombre_equipo)
sel_partidos_jugados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(1) > div.styled__FastStatsCol-sc-1rbio1c-4.ldHwr > div.styled__FastStatsColItem-sc-1rbio1c-6.iJcjeR > div > p.styled__TextRegularStyled-sc-12cic8i-0.iATXqP.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_jugados <- html_node(pagina_web, sel_partidos_jugados)
partidos_jugados <- html_text(partidos_jugados)
sel_partidos_ganados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.gVRGtE > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_ganados <- html_node(pagina_web, sel_partidos_ganados)
partidos_ganados <- html_text(partidos_ganados)
sel_partidos_empatados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.bDEJZT > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_empatados <- html_node(pagina_web, sel_partidos_empatados)
partidos_empatados <- html_text(partidos_empatados)
sel_goles <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(1) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
goles <- html_node(pagina_web, sel_goles)
goles <- html_text(goles)
sel_asistencias <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(2) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
asistencias <- html_node(pagina_web, sel_asistencias)
asistencias <- html_text(asistencias)
sel_tarjetas <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(3) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
tarjetas <- html_node(pagina_web, sel_tarjetas)
tarjetas <- html_text(tarjetas)
sel_penalties <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(4) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
penalties <- html_node(pagina_web, sel_penalties)
penalties <- html_text(penalties)
equipo <- c(nombre_equipo, partidos_jugados, partidos_ganados, partidos_empatados, goles, asistencias, penalties)
}
pag[1]
resw <- get_Equipo(pag[1])
resw
resultado_datos <- sapply(pag, get_Equipo)
View(resultado_datos)
class(resultado_datos)
dim(resultado_datos)
dim(resultado_datos)
res<- t(resultado_datos)
View(res)
LaLiga <-as.data.frame(res)
colnames(LaLiga) <- c('Nombre Equipo', 'Partidos Jugados', 'Partidos Ganados','Partidos Empatados','Goles', 'Asistencias', 'Penalties')
rownames(LaLiga) <- c(1:20)
View(LaLiga)
setwd("C:/Users/Santiago/Desktop/Cursos/DataScience Path Platzi/Proyectos/Analisis_Liga_Española")
View(LaLiga)
str(LaLiga)
LaLiga <- LaLiga[,-1]
View(LaLiga)
LaLiga <-as.data.frame(res)
colnames(LaLiga) <- c('Nombre Equipo', 'Partidos Jugados', 'Partidos Ganados','Partidos Empatados','Goles', 'Asistencias', 'Penalties')
rownames(LaLiga) <- c(1:20)
View(LaLiga)
View(LaLiga)
str(LaLiga)
puntos <- LaLiga$`Partidos Ganados`*3 + LaLiga$`Partidos Empatados`
puntos
#Partidos Ganados
LaLiga$`Partidos Jugados` <- as.numeric(LaLiga$`Partidos Jugados`)
#Partidos Ganados
LaLiga$`Partidos Ganados`<- as.numeric(LaLiga$`Partidos Ganados`)
#Partidos Empatados
LaLiga$`Partidos Empatados` <- as.numeric(LaLiga$`Partidos Empatados`)
#Goles
LaLiga$Goles <- as.numeric(LaLiga$Goles)
#Asistencias
LaLiga$Asistencias <- as.numeric(LaLiga$Asistencias)
tarjetas
get_Equipo <- function(url){
pagina_web <- read_html(url)
nombre_equipo <- str_replace(url, 'https://www.laliga.com/clubes/', '')
nombre_equipo <- gsub('/estadisticas','',nombre_equipo)
nombre_equipo <- gsub('-',' ',nombre_equipo)
sel_partidos_jugados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(1) > div.styled__FastStatsCol-sc-1rbio1c-4.ldHwr > div.styled__FastStatsColItem-sc-1rbio1c-6.iJcjeR > div > p.styled__TextRegularStyled-sc-12cic8i-0.iATXqP.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_jugados <- html_node(pagina_web, sel_partidos_jugados)
partidos_jugados <- html_text(partidos_jugados)
sel_partidos_ganados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.gVRGtE > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_ganados <- html_node(pagina_web, sel_partidos_ganados)
partidos_ganados <- html_text(partidos_ganados)
sel_partidos_empatados <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div:nth-child(2) > div.styled__FastStatsCol-sc-1rbio1c-4.bDEJZT > div:nth-child(2) > div > p.styled__TextRegularStyled-sc-12cic8i-0.hZBqHh.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
partidos_empatados <- html_node(pagina_web, sel_partidos_empatados)
partidos_empatados <- html_text(partidos_empatados)
sel_goles <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(1) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
goles <- html_node(pagina_web, sel_goles)
goles <- html_text(goles)
sel_asistencias <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(2) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
asistencias <- html_node(pagina_web, sel_asistencias)
asistencias <- html_text(asistencias)
sel_tarjetas <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(3) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
tarjetas <- html_node(pagina_web, sel_tarjetas)
tarjetas <- html_text(tarjetas)
sel_penalties <- '#__next > div.styled__ClubContainer-sc-9wem1u-0.jtossP > div.styled__ClubSectionContent-sc-9wem1u-8.hqgNRs > div:nth-child(1) > div > div > div:nth-child(1) > div > div > div.styled__ShowLoadedContainer-sc-191gwr0-0.kIkKfC.show > div.react-tabs__tab-panel.react-tabs__tab-panel--selected > div > div.styled__FastStatsRow-sc-1rbio1c-3.kgibDr > div:nth-child(4) > div.styled__FastStatsColItem-sc-1rbio1c-6.cvJneS > div > p.styled__TextRegularStyled-sc-12cic8i-0.bDhMbX.styled__TextRegularBlock-sc-1rbio1c-7.fgPoci'
penalties <- html_node(pagina_web, sel_penalties)
penalties <- html_text(penalties)
equipo <- c(nombre_equipo, partidos_jugados, partidos_ganados, partidos_empatados, goles, asistencias, tarjetas, penalties)
}
pag[1]
resw <- get_Equipo(pag[1])
resw
resultado_datos <- sapply(pag, get_Equipo)
#Penalties
LaLiga$Penalties <- as.numeric(LaLiga$Penalties)
View(resultado_datos)
res<- t(resultado_datos)
View(res)
LaLiga <-as.data.frame(res)
colnames(LaLiga) <- c('Nombre Equipo', 'Partidos Jugados', 'Partidos Ganados','Partidos Empatados','Goles', 'Asistencias', 'Tarjetas', 'Penalties')
rownames(LaLiga) <- c(1:20)
View(LaLiga)
#Partidos Jugados
LaLiga$`Partidos Jugados` <- as.numeric(LaLiga$`Partidos Jugados`)
#Partidos Ganados
LaLiga$`Partidos Ganados`<- as.numeric(LaLiga$`Partidos Ganados`)
#Partidos Empatados
LaLiga$`Partidos Empatados` <- as.numeric(LaLiga$`Partidos Empatados`)
#Goles
LaLiga$Goles <- as.numeric(LaLiga$Goles)
#Asistencias
LaLiga$Asistencias <- as.numeric(LaLiga$Asistencias)
#Tarjeta
LaLiga$Tarjetas <- as.numeric(LaLiga$Tarjetas)
#Penalties
LaLiga$Penalties <- as.numeric(LaLiga$Penalties)
str(LaLiga)
puntos <- LaLiga$`Partidos Ganados`*3 + LaLiga$`Partidos Empatados`
puntos
puntos <- as.data.frame(puntos)
puntos
LaLiga_Limpio <- cbind(LaLiga, puntos)
View(LaLiga_Limpio)
data <- LaLiga_Limpio
data <- data[,-1]
data <-scale(data)
write.csv(data,'data.csv',row.names = FALSE)
#Inicio de Cluster con cluster de prueba
mycluster <- kmeans(data, 3, nstart = 5, iter.max = 30)
View(myCluster)
View(mycluster)
mycluster$iter
mycluster$size
mycluster$centers
mycluster$withinss
wss <- (nrow(data-1)) * sum(apply(data, 2, var))
for(i in 1:10) wss[i] <- sum(kmeans(data, centers = i)$withinss)
wss
plot(1:17, wss, type='b', xlab='Numero clusters', ylab = 'withinss groups')
plot(1:10, wss, type='b', xlab='Numero clusters', ylab = 'withinss groups')
mycluster <- kmeans(data, 4, nstart= 5, iter.max = 30)
library(fmsb)
mycluster$iter
mycluster$size
mycluster$centers
mycluster$centers
mycluster$withinss
dat <- as.data.frame(t(mycluster$centers[1,]))
dat
dat <- rbind(rep(5, 10), rep(-1.5,10), dat)
dat
radarchart(dat)
dat <- as.data.frame(t(mycluster$centers[2,]))
dat
dat <- rbind(rep(5, 10), rep(-1.5,10), dat)
dat
radarchart(dat)
dat <- as.data.frame(t(mycluster$centers[3,]))
dat
dat <- rbind(rep(5, 10), rep(-1.5,10), dat)
dat
radarchart(dat)
dat <- as.data.frame(t(mycluster$centers[4,]))
dat
dat <- rbind(rep(5, 10), rep(-1.5,10), dat)
dat
par(mfrow=c(2,2))
dat <- as.data.frame(t(mycluster$centers[1,]))
dat
dat <- rbind(rep(5, 10), rep(-1.5,10), dat)
dat
radarchart(dat)
dat <- as.data.frame(t(mycluster$centers[2,]))
dat
dat <- rbind(rep(5, 10), rep(-1.5,10), dat)
dat
radarchart(dat)
dat <- as.data.frame(t(mycluster$centers[3,]))
dat
dat <- rbind(rep(5, 10), rep(-1.5,10), dat)
dat
radarchart(dat)
dat <- as.data.frame(t(mycluster$centers[4,]))
dat
dat <- rbind(rep(5, 10), rep(-1.5,10), dat)
dat
radarchart(dat)
